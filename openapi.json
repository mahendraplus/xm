{"openapi":"3.1.0","info":{"title":"Go-Biz Python API","version":"0.1.0"},"paths":{"/api/auth/register":{"post":{"tags":["auth"],"summary":"Register","description":"Register a new user. Account starts as PENDING — Admin must activate.","operationId":"register_api_auth_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRegister"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/login":{"post":{"tags":["auth"],"summary":"Login","operationId":"login_api_auth_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserLogin"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/admin-login":{"post":{"tags":["auth"],"summary":"Admin Login","operationId":"admin_login_api_auth_admin_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdminLogin"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/forgot-password/request":{"post":{"tags":["auth"],"summary":"Forgot Password Request","description":"User submits password reset request. Admin manually resolves it.","operationId":"forgot_password_request_api_auth_forgot_password_request_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForgotPasswordRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/forgot-password/status":{"get":{"tags":["auth"],"summary":"Forgot Password Status","description":"User polls this to check if admin resolved their request.","operationId":"forgot_password_status_api_auth_forgot_password_status_get","parameters":[{"name":"email","in":"query","required":true,"schema":{"type":"string","title":"Email"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/user/profile":{"get":{"tags":["users"],"summary":"Get Profile","operationId":"get_profile_api_user_profile_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserProfile"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"put":{"tags":["users"],"summary":"Update Profile","operationId":"update_profile_api_user_profile_put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserProfileUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/user/history":{"get":{"tags":["users"],"summary":"Get History","operationId":"get_history_api_user_history_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchHistoryResponse"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"delete":{"tags":["users"],"summary":"Clear History","operationId":"clear_history_api_user_history_delete","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/user/history/{item_id}":{"delete":{"tags":["users"],"summary":"Delete History Item","operationId":"delete_history_item_api_user_history__item_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"item_id","in":"path","required":true,"schema":{"type":"string","title":"Item Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/user/generate-key":{"post":{"tags":["users"],"summary":"Generate Api Key","operationId":"generate_api_key_api_user_generate_key_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/user/config-public":{"get":{"tags":["users"],"summary":"Get Public Config","operationId":"get_public_config_api_user_config_public_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/user/payment-requests":{"get":{"tags":["users"],"summary":"Get Payment Requests","description":"Get user's payment request history.","operationId":"get_payment_requests_api_user_payment_requests_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/user/search":{"post":{"tags":["search"],"summary":"Search","operationId":"search_api_user_search_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SearchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/user/add-credits":{"post":{"tags":["search"],"summary":"Add Credits","description":"User submits a manual payment request (UTR proof).","operationId":"add_credits_api_user_add_credits_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddCreditsRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/admin/config/prices":{"get":{"tags":["admin"],"summary":"Get Prices","description":"Get current granular pricing config.","operationId":"get_prices_api_admin_config_prices_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/admin/config/prices/update":{"post":{"tags":["admin"],"summary":"Update Prices","description":"Update granular pricing. Takes effect immediately for all searches.","operationId":"update_prices_api_admin_config_prices_update_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/app__schemas__admin__PricingUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/admin/users":{"get":{"tags":["admin"],"summary":"List Users","description":"List all users with balance and total spending.","operationId":"list_users_api_admin_users_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/admin/users/pending":{"get":{"tags":["admin"],"summary":"List Pending Users","description":"List users awaiting activation.","operationId":"list_pending_users_api_admin_users_pending_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/admin/users/{user_id}/activate":{"post":{"tags":["admin"],"summary":"Activate User","description":"Activate a pending user account.","operationId":"activate_user_api_admin_users__user_id__activate_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/users/{user_id}/deactivate":{"post":{"tags":["admin"],"summary":"Deactivate User","description":"Deactivate / ban a user.","operationId":"deactivate_user_api_admin_users__user_id__deactivate_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/users/{user_id}/history":{"get":{"tags":["admin"],"summary":"Get User History","description":"View a user's search history with field-level billing breakdown.","operationId":"get_user_history_api_admin_users__user_id__history_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/users/{user_id}/custom-price":{"post":{"tags":["admin"],"summary":"Set Custom Price","description":"Set per-user custom pricing (discount % or fixed field prices).","operationId":"set_custom_price_api_admin_users__user_id__custom_price_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomPriceOverride"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/users/{user_id}/credits/add":{"post":{"tags":["admin"],"summary":"Add Credits To User","description":"Directly add credits to a user's wallet (instant, no payment request needed).","operationId":"add_credits_to_user_api_admin_users__user_id__credits_add_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ManualCreditAdjust"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/users/{user_id}/credits/deduct":{"post":{"tags":["admin"],"summary":"Deduct Credits From User","description":"Manually deduct credits from a user's wallet.","operationId":"deduct_credits_from_user_api_admin_users__user_id__credits_deduct_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ManualCreditAdjust"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/users/{user_id}/reset-password":{"post":{"tags":["admin"],"summary":"Admin Reset Password","description":"Admin directly sets a new password for user. Manually share with user via WhatsApp/Email.","operationId":"admin_reset_password_api_admin_users__user_id__reset_password_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PasswordResetResolve"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/requests/password-resets":{"get":{"tags":["admin"],"summary":"List Password Reset Requests","description":"List all pending password reset requests.","operationId":"list_password_reset_requests_api_admin_requests_password_resets_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/admin/requests/password-resets/{request_id}/resolve":{"post":{"tags":["admin"],"summary":"Resolve Password Reset","description":"Admin sets temp password for user.\nMANUAL: Admin copies the password and sends it via WhatsApp/Email.","operationId":"resolve_password_reset_api_admin_requests_password_resets__request_id__resolve_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"request_id","in":"path","required":true,"schema":{"type":"string","title":"Request Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PasswordResetResolve"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/requests/password-resets/{request_id}/reject":{"post":{"tags":["admin"],"summary":"Reject Password Reset","description":"Admin rejects a password reset request.","operationId":"reject_password_reset_api_admin_requests_password_resets__request_id__reject_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"request_id","in":"path","required":true,"schema":{"type":"string","title":"Request Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/finance/pending-deposits":{"get":{"tags":["admin"],"summary":"List Pending Deposits","description":"View all pending wallet top-up requests.","operationId":"list_pending_deposits_api_admin_finance_pending_deposits_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/admin/finance/all-deposits":{"get":{"tags":["admin"],"summary":"List All Deposits","description":"View all payment requests with summary stats.","operationId":"list_all_deposits_api_admin_finance_all_deposits_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/admin/finance/deposits/{deposit_id}/approve":{"post":{"tags":["admin"],"summary":"Approve Deposit","description":"Approve (CREDIT) or reject a deposit request.\naction: \"CREDIT\" → credits user wallet and marks approved.\naction: \"REJECT\" → marks request as rejected.","operationId":"approve_deposit_api_admin_finance_deposits__deposit_id__approve_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"deposit_id","in":"path","required":true,"schema":{"type":"string","title":"Deposit Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DepositApprove"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/notifications":{"get":{"tags":["admin"],"summary":"Get Notifications","operationId":"get_notifications_api_admin_notifications_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/admin/notifications/{notif_id}/read":{"post":{"tags":["admin"],"summary":"Mark Notification Read","operationId":"mark_notification_read_api_admin_notifications__notif_id__read_post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"notif_id","in":"path","required":true,"schema":{"type":"string","title":"Notif Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/stats":{"get":{"tags":["admin"],"summary":"Admin Stats","description":"Full dashboard stats — all queries run in parallel for speed.","operationId":"admin_stats_api_admin_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/admin/settings":{"get":{"tags":["admin"],"summary":"Get System Settings","description":"Get all system settings with current values and defaults.","operationId":"get_system_settings_api_admin_settings_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"post":{"tags":["admin"],"summary":"Update System Settings","description":"Update one or more system settings.\nOnly provided fields are updated — others remain unchanged.","operationId":"update_system_settings_api_admin_settings_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SystemSettingsUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/admin/settings/reset":{"post":{"tags":["admin"],"summary":"Reset System Settings","description":"Reset all system settings to factory defaults.","operationId":"reset_system_settings_api_admin_settings_reset_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/admin/logs/requests":{"get":{"tags":["admin"],"summary":"Get Request Logs","description":"Get recent API request logs (Method, URL, Status, IP, Duration).","operationId":"get_request_logs_api_admin_logs_requests_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/admin/logs/system":{"get":{"tags":["admin"],"summary":"Get System Logs","description":"Get advanced system info via neofetch and container details.","operationId":"get_system_logs_api_admin_logs_system_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/admin/ddos/status":{"get":{"tags":["admin"],"summary":"Ddos Status","description":"View current DDoS protection stats: blocked IPs, violation counts, etc.","operationId":"ddos_status_api_admin_ddos_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/admin/ddos/block-ip":{"post":{"tags":["admin"],"summary":"Ddos Block Ip","description":"Manually blacklist an IP address.","operationId":"ddos_block_ip_api_admin_ddos_block_ip_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/IPAction"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/admin/ddos/unblock-ip":{"post":{"tags":["admin"],"summary":"Ddos Unblock Ip","description":"Remove an IP from blacklist and clear its bans/violations.","operationId":"ddos_unblock_ip_api_admin_ddos_unblock_ip_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/IPAction"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/chat/send":{"post":{"tags":["chat"],"summary":"Send Message","operationId":"send_message_api_chat_send_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Message"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/chat/history":{"get":{"tags":["chat"],"summary":"Get History","operationId":"get_history_api_chat_history_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ChatMessage"},"type":"array","title":"Response Get History Api Chat History Get"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/chat/admin/list":{"get":{"tags":["chat"],"summary":"List Chats","operationId":"list_chats_api_chat_admin_list_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ChatSession"},"type":"array","title":"Response List Chats Api Chat Admin List Get"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/chat/admin/history/{user_email}":{"get":{"tags":["chat"],"summary":"Get Admin History","operationId":"get_admin_history_api_chat_admin_history__user_email__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"user_email","in":"path","required":true,"schema":{"type":"string","title":"User Email"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ChatMessage"},"title":"Response Get Admin History Api Chat Admin History  User Email  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/chat/admin/send/{user_email}":{"post":{"tags":["chat"],"summary":"Admin Send","operationId":"admin_send_api_chat_admin_send__user_email__post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"user_email","in":"path","required":true,"schema":{"type":"string","title":"User Email"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Message"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/admin/config":{"get":{"tags":["admin_config"],"summary":"Get Config","operationId":"get_config_api_admin_config_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SystemConfig"}}}}}},"post":{"tags":["admin_config"],"summary":"Update Config","operationId":"update_config_api_admin_config_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SystemConfig"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/payments/initiate":{"post":{"tags":["payments"],"summary":"Initiate Payment","description":"Generate PayU payment parameters.\nFrontend uses these to POST a form to PayU's payment page.","operationId":"initiate_payment_api_payments_initiate_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PayUInitiate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/payments/success":{"post":{"tags":["payments"],"summary":"Payment Success","description":"PayU redirects here on successful payment.\nVerify reverse hash and credit user wallet.","operationId":"payment_success_api_payments_success_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/payments/failure":{"post":{"tags":["payments"],"summary":"Payment Failure","description":"Handle PayU payment failure callback.","operationId":"payment_failure_api_payments_failure_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/payments/webhook":{"post":{"tags":["payments"],"summary":"Payment Webhook","description":"PayU server-to-server notification.\nThis is a backup verification in case the user doesn't return to success URL.","operationId":"payment_webhook_api_payments_webhook_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/payments/history":{"get":{"tags":["payments"],"summary":"Get Payment History","description":"List PayU transactions for current user.","operationId":"get_payment_history_api_payments_history_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/pricing":{"get":{"tags":["pricing"],"summary":"Get Pricing","description":"Get current search types and prices.","operationId":"get_pricing_api_pricing_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}},"post":{"tags":["pricing"],"summary":"Update Pricing","description":"Admin only: Update search prices.","operationId":"update_pricing_api_pricing_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/app__api__endpoints__pricing__PricingUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/stats":{"get":{"tags":["public"],"summary":"Public Stats","operationId":"public_stats_api_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/":{"get":{"summary":"Root","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"AddCreditsRequest":{"properties":{"amount":{"type":"number","exclusiveMinimum":0.0,"title":"Amount"},"utr_number":{"type":"string","title":"Utr Number"},"screenshot_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Screenshot Url"}},"type":"object","required":["amount","utr_number"],"title":"AddCreditsRequest"},"AdminLogin":{"properties":{"password":{"type":"string","title":"Password"}},"type":"object","required":["password"],"title":"AdminLogin"},"ChatMessage":{"properties":{"id":{"type":"string","title":"Id"},"sender":{"type":"string","title":"Sender"},"text":{"type":"string","title":"Text"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"read":{"type":"boolean","title":"Read"}},"type":"object","required":["id","sender","text","created_at","read"],"title":"ChatMessage"},"ChatSession":{"properties":{"id":{"type":"string","title":"Id"},"user_email":{"type":"string","title":"User Email"},"last_message":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Message"},"has_unread_admin":{"type":"boolean","title":"Has Unread Admin"},"has_unread_user":{"type":"boolean","title":"Has Unread User"}},"type":"object","required":["id","user_email","last_message","has_unread_admin","has_unread_user"],"title":"ChatSession"},"CustomPriceOverride":{"properties":{"discount_percent":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Discount Percent"},"fixed_prices":{"anyOf":[{"additionalProperties":{"type":"number"},"type":"object"},{"type":"null"}],"title":"Fixed Prices"}},"type":"object","title":"CustomPriceOverride"},"DepositApprove":{"properties":{"action":{"type":"string","title":"Action"},"amount":{"type":"number","title":"Amount","default":0.0}},"type":"object","required":["action"],"title":"DepositApprove"},"FieldBilling":{"properties":{"base_fee":{"type":"number","title":"Base Fee"},"field_charges":{"additionalProperties":{"type":"number"},"type":"object","title":"Field Charges"},"total_deducted":{"type":"number","title":"Total Deducted"}},"type":"object","required":["base_fee","field_charges","total_deducted"],"title":"FieldBilling"},"ForgotPasswordRequest":{"properties":{"email":{"type":"string","title":"Email"},"note":{"type":"string","title":"Note","default":""}},"type":"object","required":["email"],"title":"ForgotPasswordRequest"},"GranularPricingModel":{"properties":{"base_search_fee":{"type":"number","title":"Base Search Fee","default":1.0},"fields":{"additionalProperties":{"type":"number"},"type":"object","title":"Fields","default":{"name":5.0,"fname":10.0,"address":25.0,"email":15.0,"alt":20.0,"dob":5.0,"gender":2.0,"carrier":1.0,"circle":1.0,"id":100.0}}},"type":"object","title":"GranularPricingModel"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"IPAction":{"properties":{"ip":{"type":"string","title":"Ip"}},"type":"object","required":["ip"],"title":"IPAction"},"ManualCreditAdjust":{"properties":{"amount":{"type":"number","title":"Amount"},"reason":{"type":"string","title":"Reason","default":"Manual Admin Adjustment"}},"type":"object","required":["amount"],"title":"ManualCreditAdjust"},"Message":{"properties":{"text":{"type":"string","title":"Text"}},"type":"object","required":["text"],"title":"Message"},"PasswordResetResolve":{"properties":{"new_temp_password":{"type":"string","title":"New Temp Password"}},"type":"object","required":["new_temp_password"],"title":"PasswordResetResolve"},"PayUInitiate":{"properties":{"amount":{"type":"number","title":"Amount"}},"type":"object","required":["amount"],"title":"PayUInitiate"},"SearchHistoryItem":{"properties":{"user_id":{"type":"string","title":"User Id"},"mobile_mask":{"type":"string","title":"Mobile Mask"},"mobile":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Mobile"},"result_count":{"type":"integer","title":"Result Count"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{}],"title":"Created At"},"requested_fields":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Requested Fields"},"billing":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Billing"},"type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Type"},"cost":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Cost"}},"type":"object","required":["user_id","mobile_mask","result_count"],"title":"SearchHistoryItem"},"SearchHistoryResponse":{"properties":{"history":{"items":{"$ref":"#/components/schemas/SearchHistoryItem"},"type":"array","title":"History"}},"type":"object","required":["history"],"title":"SearchHistoryResponse"},"SearchRequest":{"properties":{"mobile":{"type":"string","maxLength":12,"minLength":10,"title":"Mobile"},"requested_fields":{"items":{"type":"string"},"type":"array","title":"Requested Fields","default":["ALL"]}},"type":"object","required":["mobile"],"title":"SearchRequest"},"SearchResponse":{"properties":{"status":{"type":"string","title":"Status","default":"success"},"data":{"anyOf":[{"items":{"additionalProperties":true,"type":"object"},"type":"array"},{"type":"null"}],"title":"Data"},"billing":{"anyOf":[{"$ref":"#/components/schemas/FieldBilling"},{"type":"null"}]},"wallet_remaining":{"type":"number","title":"Wallet Remaining","default":0.0},"response_time":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Response Time"},"msg":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Msg"}},"type":"object","title":"SearchResponse"},"SystemConfig":{"properties":{"upi_id":{"type":"string","title":"Upi Id"},"qr_code_url":{"type":"string","title":"Qr Code Url"}},"type":"object","required":["upi_id","qr_code_url"],"title":"SystemConfig"},"SystemSettingsUpdate":{"properties":{"auto_activate_users":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Auto Activate Users"},"welcome_credits":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Welcome Credits"},"maintenance_mode":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Maintenance Mode"},"max_search_per_day":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Max Search Per Day"},"allow_api_key_access":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Allow Api Key Access"},"search_log_full_mobile":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Search Log Full Mobile"},"min_deposit_amount":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Min Deposit Amount"},"max_deposit_amount":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Max Deposit Amount"},"max_login_attempts":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Max Login Attempts"},"block_duration_minutes":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Block Duration Minutes"},"payu_mode":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Payu Mode"},"ddos_enabled":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Ddos Enabled"},"ddos_requests_per_minute":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Ddos Requests Per Minute"},"ddos_global_rpm":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Ddos Global Rpm"},"ddos_ban_threshold":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Ddos Ban Threshold"},"ddos_ban_duration_minutes":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Ddos Ban Duration Minutes"}},"type":"object","title":"SystemSettingsUpdate"},"Token":{"properties":{"token":{"type":"string","title":"Token"},"msg":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Msg"}},"type":"object","required":["token"],"title":"Token"},"UserLogin":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"password":{"type":"string","title":"Password"}},"type":"object","required":["email","password"],"title":"UserLogin"},"UserProfile":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name","default":"Admin"},"email":{"type":"string","title":"Email"},"role":{"type":"string","title":"Role","default":"user"},"credits":{"type":"number","title":"Credits","default":0.0},"searches":{"type":"integer","title":"Searches","default":0},"api_key":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Api Key"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{}],"title":"Created At"},"is_active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Active","default":true},"account_status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Account Status","default":"ACTIVE"}},"type":"object","required":["email"],"title":"UserProfile"},"UserProfileUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"password":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Password"}},"type":"object","title":"UserProfileUpdate"},"UserRegister":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"password":{"type":"string","title":"Password"},"name":{"type":"string","title":"Name"}},"type":"object","required":["email","password","name"],"title":"UserRegister"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"app__api__endpoints__pricing__PricingUpdate":{"properties":{"prices":{"additionalProperties":{"type":"number"},"type":"object","title":"Prices"}},"type":"object","required":["prices"],"title":"PricingUpdate"},"app__schemas__admin__PricingUpdate":{"properties":{"pricing_model":{"$ref":"#/components/schemas/GranularPricingModel"}},"type":"object","required":["pricing_model"],"title":"PricingUpdate"}},"securitySchemes":{"OAuth2PasswordBearer":{"type":"oauth2","flows":{"password":{"scopes":{},"tokenUrl":"api/auth/login"}}}}}}